
<!--背景区域-->
<view class="postContainer" style="align-items:{{bgCenter ? 'center' : 'flex-start'}}">
  <image wx:if="{{bgData.bgImg}}" id="siteImg" class="bgImg" src="{{bgData.bgImg}}" mode="aspectFit" style="width:{{bgData.width}}px;height:{{bgData.height}}px;"></image>
  <view wx:if="{{bgData.bgColor}}" style="background-color: {{bgData.bgColor}};width: 100%; height: 100%;"></view>
</view>
<!-- 操作区域 -->
<view class="contentWarp" catchtap="hideControls">
  <block wx:for="{{itemList}}" wx:key="id">
    <view class="touchWrap" style="transform:scale({{item.scale}});top:{{item.css.top}}px;left:{{item.css.left}}px;z-index:{{item.active?100:1}};">
      <view class="imgWrap {{item.active? 'touchActive':''}}" style="transform:rotate({{item.angle}}deg);">

        <block wx:if="{{item.type==='image'}}">
          <image src='{{item.url}}' data-id='{{item.id}}' style='width:{{item.css.width}}px;height:{{item.css.height}}px;' bindtouchstart='WraptouchStart' bindtouchmove='WraptouchMove' bindtouchend='WraptouchEnd'></image>
        </block>
        <block wx:if="{{item.type==='text'}}">
          <text data-id='{{item.id}}' style='width:{{item.css.width}}px;height:{{item.css.height}}px;font-size:{{item.css.fontSize*item.scale}};writing-mode:{{textWriteMode}};' bindtouchstart='WraptouchStart' bindtouchmove='WraptouchMove' bindtouchend='WraptouchEnd'>{{item.text}}</text>
        </block>

        <image class="x" src="./icon/x.png" style="transform:scale({{item.oScale}});transform-origin:center;" data-id="{{item.id}}" catchtap="deleteItem"></image>
        <image class="o" src="./icon/o.png" style="transform:scale({{item.oScale}});transform-origin:center;" data-id="{{item.id}}" bindtouchstart="oTouchStart" bindtouchmove="oTouchMove" bindtouchend="WraptouchEnd"></image>
      </view>
    </view>
  </block>
</view>

<view style='position:fixed;top:9999px;'>
  <!-- 画布 -->
  <canvas type='2d' id="myCanvas" style='width:{{canvasWidth}}px; height:{{canvasHeight}}px;'></canvas>
</view>
